---
import { Icon } from "astro-icon/components";
import { Image } from "astro:assets";
import Searchbox from "./Searchbox";
import logo from "../images/logo.png";

const search = Astro.url.searchParams.get("q");

const { pathname } = Astro.url;
---

<header
  class="border-b border-cyan-300/20 flex px-4 md:px-5 py-4 justify-between items-center flex-col md:flex-row fixed top-0 left-0 w-full z-50 bg-blue-950/90 backdrop-blur"
>
  <div
    class="flex gap-[30px] items-center w-full justify-between mb-5 md:mb-0 md:justify-start"
  >
    <a href="/">
      <Image
        src={logo}
        alt="LUGP DEV BLOG"
        class="w-[113px] h-[50px]"
        loading="eager"
      />
    </a>

    <nav class="flex gap-5 md:gap-[30px] text-sm font-semibold">
      <a
        href="/articulos"
        class=`nav-link ${pathname.includes("/articulos") ? "text-cyan-300": ""}`
        >Artículos</a
      >
      <a
        href="/categorias"
        class=`nav-link ${pathname.includes("/categorias") ? "text-cyan-300": ""}`
        >Categorías</a
      >
    </nav>
  </div>

  <Searchbox client:load currentValue={search ? search : ""}>
    <Icon
      name="gravity-ui:magnifier"
      size={20}
      color="#36dde8"
      class="absolute top-1/2 transform left-2.5 -translate-y-1/2"
    />
  </Searchbox>
</header>

<style>
  .nav-link:hover {
    @apply transition text-cyan-300;
  }
</style>
